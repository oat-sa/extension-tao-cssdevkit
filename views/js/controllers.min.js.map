{"version":3,"file":"taoCssDevKit/controller/routes.js","sources":["routes.js","templates/report!tpl","cssSdk/cssSdk.js"],"names":["define","CssManager","actions","index","hb","template","Handlebars","depth0","helpers","partials","data","program1","stack1","buffer","escapeExpression","message","functionType","apply","icon","this","compilerInfo","merge","helper","self","call","hash","each","children","inverse","noop","fn","program","$","__","ui","uploader","feedback","reportTpl","cssContainer","on","e","file","interactionHook","i","length","type","replace","timeout","info","success","warning","error","encodeHtml","uploadUrl","uploadBtnText"],"mappings":"AAAA,AAuBAA,OAAA,oCAAA,WACA,OACAC,YACAC,SACAC,MAAA,gCC1BAH,OAAA,gDAAA,cAAA,SAAAI,IACA,MAAAA,IAAAC,SAAA,SAAAC,WAAAC,OAAAC,QAAAC,SAAAC,MAKA,QAAAC,UAAAJ,OAAAG,MAEA,GAAAE,QAAAC,OAAA,EAMA,OALAA,SAAA,aACAC,kBAAAF,OAAAL,QAAAA,OAAAQ,cAAAH,UAAAI,aAAAJ,OAAAK,MAAAV,QAAAK,SACA,SACAE,kBAAAF,OAAAL,QAAAA,OAAAW,WAAAN,UAAAI,aAAAJ,OAAAK,MAAAV,QAAAK,SACA,cAXAO,KAAAC,cAAA,EAAA,YACAZ,QAAAW,KAAAE,MAAAb,QAAAF,WAAAE,SAAAE,KAAAA;ADHA,ACIA,GAAAE,QAAAU,OAAAT,OAAA,GAAAG,aAAA,WAAAF,iBAAAK,KAAAL,iBAAAS,KAAAJ,IAqBA,OARAN,SAAA,OACAS,OAAAd,QAAAO,SAAAH,OAAAU,OAAAE,KAAAjB,QAAAkB,QAAAf,KAAAA,QACAY,OAAAf,QAAAA,OAAAQ,QAAAH,aAAAU,UAAAN,aAAAM,OAAAE,KAAAjB,QAAAkB,QAAAf,KAAAA,OAAAY,QACAT,QAAAC,iBAAAF,QACA,6DACAA,OAAAJ,QAAAkB,KAAAF,KAAAjB,OAAAA,QAAAA,OAAAoB,UAAAF,QAAAG,QAAAL,KAAAM,KAAAC,GAAAP,KAAAQ,QAAA,EAAApB,SAAAD,MAAAA,KAAAA,QACAE,QAAA,IAAAA,UAAAC,QAAAD,QACAC,QAAA,kBCFAb,OAAA,yCACA,SACA,OACA,KACA,cACA,cACA,gDAEA,SAAAgC,EAAAC,GAAAC,GAAAC,SAAAC,SAAAC;AAGA,AFhCA,GEgCAC,cAAAN,EAAA,iBAEAM,cAAAC,GAAA,kBAAA,SAAAC,EAAAC,KAAAC,iBAIA,IAFA,GAAAC,GAAAD,gBAAAf,SAAAiB,OAEAD,KACA,OAAAD,gBAAAf,SAAAgB,GAAAE,MACA,IAAA,UACAH,gBAAAG,KAAA,UACAH,gBAAAf,SAAAgB,GAAAzB,KAAA,GACA,MAEA,KAAA,QACAwB,gBAAAG,KAAA,QACAH,gBAAAf,SAAAgB,GAAAzB,KAAA,GACA,MAEA,KAAA,OACAwB,gBAAAf,SAAAgB,GAAA5B,QAAA2B,gBAAAf,SAAAgB,GAAA5B,QAAA+B,QAAA,SAAA,IACAJ,gBAAAf,SAAAgB,GAAAzB,KAAA,IAMAkB,WAAAM,gBAAAG,MAAAR,UAAAK,kBACAK,SAAAC,KAAA,IAAAC,QAAA,IAAAC,QAAA,IAAAC,MAAA,KAAAC,YAAA,MAGAd,aAAAC,GAAA,gBAAA,SAAAC,EAAAC,KAAAC;AACAN,AF9DA,WE8DAe,MAAAT,gBAAA3B,WAGAuB,aAAAH,UACAkB,UAAAf,aAAA5B,KAAA,OACA4C,cAAArB,GAAA;AFlEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA,AD8BA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\n\n/**\n *\n * @author dieter <dieter@taotesting.com>\n */\ndefine('taoCssDevKit/controller/routes',[],function(){\n    return {\n        'CssManager' : {\n            'actions' : {\n                'index' : 'controller/cssSdk/cssSdk'\n            }\n        }\n    };\n});\n\n","\ndefine('tpl!taoCssDevKit/controller/templates/report', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <li>\"\n    + escapeExpression(((stack1 = (depth0 && depth0.message)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"&nbsp;\"\n    + escapeExpression(((stack1 = (depth0 && depth0.icon)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</li>\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<p>\";\n  if (helper = helpers.message) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.message); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n<ul style=\\\"max-height: 500px; overflow: auto\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.children), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</ul>\\n\\n\";\n  return buffer;\n  });\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\n\n/**\n *\n * @author dieter <dieter@taotesting.com>\n */\ndefine('taoCssDevKit/controller/cssSdk/cssSdk',[\n    'jquery',\n    'i18n',\n    'ui',\n    'ui/uploader',\n    'ui/feedback',\n    'tpl!taoCssDevKit/controller/templates/report'\n],\n    function ($, __, ui, uploader, feedback, reportTpl) {\n\n        // upload and apply a css file to multiple items\n        var cssContainer = $('#css-container');\n\n        cssContainer.on('upload.uploader', function (e, file, interactionHook) {\n\n            var i = interactionHook.children.length;\n\n            while(i--) {\n                switch(interactionHook.children[i].type) {\n                    case 'success':\n                        interactionHook.type = 'success';// overwrite 'info'\n                        interactionHook.children[i].icon = '✓'\n                        break;\n\n                    case 'error':\n                        interactionHook.type = 'error';\n                        interactionHook.children[i].icon = '⚠'\n                        break;\n\n                    case 'info':\n                        interactionHook.children[i].message = interactionHook.children[i].message.replace(' (n/a)', '');\n                        interactionHook.children[i].icon = '∅'\n                        break;\n                }\n\n            }\n\n            feedback()[interactionHook.type](reportTpl(interactionHook),\n                {timeout: {  info: 6000, success: 6000, warning: 6000, error: 6000}, encodeHtml: false});\n        });\n\n        cssContainer.on('fail.uploader', function (e, file, interactionHook) {\n            feedback().error(interactionHook.message);\n        });\n\n        cssContainer.uploader({\n            uploadUrl: cssContainer.data('url'),\n            uploadBtnText: __('Apply CSS to Items')\n        });\n    });\n\n"]}