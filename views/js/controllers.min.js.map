{"version":3,"sources":["routes.js","templates/report!tpl","cssSdk/cssSdk.js"],"names":["define","CssManager","actions","index","hb","template","Handlebars","depth0","helpers","partials","data","program1","stack1","buffer","escapeExpression","message","functionType","apply","icon","this","compilerInfo","merge","helper","self","call","hash","each","children","inverse","noop","fn","program","$","__","ui","uploader","feedback","reportTpl","cssContainer","on","e","file","interactionHook","i","length","type","replace","timeout","info","success","warning","error","encodeHtml","uploadUrl","uploadBtnText"],"mappings":"AAuBAA,OAAA,oCAAA,WACA,OACAC,YACAC,SACAC,MAAA,gCC1BAH,OAAA,gDAAA,cAAA,SAAAI,IACA,MAAAA,IAAAC,SAAA,SAAAC,WAAAC,OAAAC,QAAAC,SAAAC,MAKA,QAAAC,UAAAJ,OAAAG,MAEA,GAAAE,QAAAC,OAAA,EAMA,OALAA,SAAA,eACAC,kBAAAF,OAAAL,QAAAA,OAAAQ,cAAAH,UAAAI,aAAAJ,OAAAK,MAAAV,QAAAK,SACA,SACAE,kBAAAF,OAAAL,QAAAA,OAAAW,WAAAN,UAAAI,aAAAJ,OAAAK,MAAAV,QAAAK,SACA,gBAXAO,KAAAC,cAAA,EAAA,YACAZ,QAAAW,KAAAE,MAAAb,QAAAF,WAAAE;AAAAE,KAAAA,QACA,IAAAE,QAAAU,OAAAT,OAAA,GAAAG,aAAA,WAAAF,iBAAAK,KAAAL,iBAAAS,KAAAJ,IAqBA,OARAN,SAAA,OACAS,OAAAd,QAAAO,SAAAH,OAAAU,OAAAE,KAAAjB,QAAAkB,QAAAf,KAAAA,QACAY,OAAAf,QAAAA,OAAAQ,QAAAH,aAAAU,UAAAN,aAAAM,OAAAE,KAAAjB,QAAAkB,QAAAf,KAAAA,OAAAY,QACAT,QAAAC,iBAAAF,QACA,iEACAA,OAAAJ,QAAAkB,KAAAF,KAAAjB,OAAAA,QAAAA,OAAAoB,UAAAF,QAAAG,QAAAL,KAAAM,KAAAC,GAAAP,KAAAQ,QAAA,EAAApB,SAAAD,MAAAA,KAAAA,QACAE,QAAA,IAAAA,UAAAC,QAAAD,QACAC,QAAA,wBCFAb,OAAA,yCACA,SACA,OACA,KACA,cACA,cACA,gDAEA,SAAAgC,EAAAC,GAAAC,GAAAC,SAAAC,SAAAC;AAGA,GAAAC,cAAAN,EAAA,iBAEAM,cAAAC,GAAA,kBAAA,SAAAC,EAAAC,KAAAC,iBAIA,IAFA,GAAAC,GAAAD,gBAAAf,SAAAiB,OAEAD,KACA,OAAAD,gBAAAf,SAAAgB,GAAAE,MACA,IAAA,UACAH,gBAAAG,KAAA,UACAH,gBAAAf,SAAAgB,GAAAzB,KAAA,GACA,MAEA,KAAA,QACAwB,gBAAAG,KAAA,QACAH,gBAAAf,SAAAgB,GAAAzB,KAAA,GACA,MAEA,KAAA,OACAwB,gBAAAf,SAAAgB,GAAA5B,QAAA2B,gBAAAf,SAAAgB,GAAA5B,QAAA+B,QAAA,SAAA,IACAJ,gBAAAf,SAAAgB,GAAAzB,KAAA,IAMAkB,WAAAM,gBAAAG,MAAAR,UAAAK,kBACAK,SAAAC,KAAA,IAAAC,QAAA,IAAAC,QAAA,IAAAC,MAAA,KAAAC,YAAA,MAGAd,aAAAC,GAAA,gBAAA,SAAAC,EAAAC,KAAAC;AACAN,WAAAe,MAAAT,gBAAA3B,WAGAuB,aAAAH,UACAkB,UAAAf,aAAA5B,KAAA,OACA4C,cAAArB,GAAA","file":"routes.js","sourcesContent":["/*\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\r\n *\r\n */\r\n\r\n/**\r\n *\r\n * @author dieter <dieter@taotesting.com>\r\n */\r\ndefine('taoCssDevKit/controller/routes',[],function(){\r\n    return {\r\n        'CssManager' : {\r\n            'actions' : {\r\n                'index' : 'controller/cssSdk/cssSdk'\r\n            }\r\n        }\r\n    };\r\n});\r\n\n","\ndefine('tpl!taoCssDevKit/controller/templates/report', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\r\\n    <li>\"\n    + escapeExpression(((stack1 = (depth0 && depth0.message)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"&nbsp;\"\n    + escapeExpression(((stack1 = (depth0 && depth0.icon)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</li>\\r\\n    \";\n  return buffer;\n  }\n\n  buffer += \"<p>\";\n  if (helper = helpers.message) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.message); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\r\\n<ul style=\\\"max-height: 500px; overflow: auto\\\">\\r\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.children), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\r\\n</ul>\\r\\n\\r\\n\";\n  return buffer;\n  });\n});\n\n","/*\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\r\n *\r\n */\r\n\r\n/**\r\n *\r\n * @author dieter <dieter@taotesting.com>\r\n */\r\ndefine('taoCssDevKit/controller/cssSdk/cssSdk',[\r\n    'jquery',\r\n    'i18n',\r\n    'ui',\r\n    'ui/uploader',\r\n    'ui/feedback',\r\n    'tpl!taoCssDevKit/controller/templates/report'\r\n],\r\n    function ($, __, ui, uploader, feedback, reportTpl) {\r\n\r\n        // upload and apply a css file to multiple items\r\n        var cssContainer = $('#css-container');\r\n\r\n        cssContainer.on('upload.uploader', function (e, file, interactionHook) {\r\n\r\n            var i = interactionHook.children.length;\r\n\r\n            while(i--) {\r\n                switch(interactionHook.children[i].type) {\r\n                    case 'success':\r\n                        interactionHook.type = 'success';// overwrite 'info'\r\n                        interactionHook.children[i].icon = '✓'\r\n                        break;\r\n\r\n                    case 'error':\r\n                        interactionHook.type = 'error';\r\n                        interactionHook.children[i].icon = '⚠'\r\n                        break;\r\n\r\n                    case 'info':\r\n                        interactionHook.children[i].message = interactionHook.children[i].message.replace(' (n/a)', '');\r\n                        interactionHook.children[i].icon = '∅'\r\n                        break;\r\n                }\r\n\r\n            }\r\n\r\n            feedback()[interactionHook.type](reportTpl(interactionHook),\r\n                {timeout: {  info: 6000, success: 6000, warning: 6000, error: 6000}, encodeHtml: false});\r\n        });\r\n\r\n        cssContainer.on('fail.uploader', function (e, file, interactionHook) {\r\n            feedback().error(interactionHook.message);\r\n        });\r\n\r\n        cssContainer.uploader({\r\n            uploadUrl: cssContainer.data('url'),\r\n            uploadBtnText: __('Apply CSS to Items')\r\n        });\r\n    });\r\n\n"]}